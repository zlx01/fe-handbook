import{_ as s,a,b as n,c as l,d as o,e as p}from"./chunks/image-20230805164557709.3fc1cf26.js";import{_ as e,c as t,o as c,d as r}from"./app.98ca16d1.js";const b=JSON.parse('{"title":"bin","description":"","frontmatter":{},"headers":[{"level":2,"title":"Practice","slug":"practice","link":"#practice","children":[{"level":3,"title":"1.创建脚本","slug":"_1-创建脚本","link":"#_1-创建脚本","children":[]},{"level":3,"title":"2.配置脚本","slug":"_2-配置脚本","link":"#_2-配置脚本","children":[]},{"level":3,"title":"3.发布依赖","slug":"_3-发布依赖","link":"#_3-发布依赖","children":[]},{"level":3,"title":"4.本地安装","slug":"_4-本地安装","link":"#_4-本地安装","children":[]},{"level":3,"title":"5.全局安装","slug":"_5-全局安装","link":"#_5-全局安装","children":[]},{"level":3,"title":"crush.sh","slug":"crush-sh","link":"#crush-sh","children":[]},{"level":3,"title":"crush.cmd","slug":"crush-cmd","link":"#crush-cmd","children":[]}]},{"level":2,"title":"Application","slug":"application","link":"#application","children":[]}],"relativePath":"build-tools/package-manager/npm/package.json/bin.md","lastUpdated":1696142469000}'),D={name:"build-tools/package-manager/npm/package.json/bin.md"},i=r(`<h1 id="bin" tabindex="-1">bin <a class="header-anchor" href="#bin" aria-hidden="true">#</a></h1><blockquote><p>A lot of packages have one or more executable files that they&#39;d like to install into the PATH. npm makes this pretty easy (in fact, it uses this feature to install the &quot;npm&quot; executable.)</p><p>To use this, supply a <code>bin</code> field in your package.json which is a map of command name to local file name. On install, npm will symlink that file into <code>prefix/bin</code> for global installs, or <code>./node_modules/.bin/</code> for local installs.</p></blockquote><h2 id="practice" tabindex="-1">Practice <a class="header-anchor" href="#practice" aria-hidden="true">#</a></h2><h3 id="_1-创建脚本" tabindex="-1">1.创建脚本 <a class="header-anchor" href="#_1-创建脚本" aria-hidden="true">#</a></h3><p><code>bin/index.js</code> 文件目录、文件名随意</p><p>注意第一行一定要指明脚本解释器</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/usr/bin/env node</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">人生若只如初见，何事秋风悲画扇。</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-配置脚本" tabindex="-1">2.配置脚本 <a class="header-anchor" href="#_2-配置脚本" aria-hidden="true">#</a></h3><p><code>package.json</code></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">bin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">crush</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bin/index.js</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-发布依赖" tabindex="-1">3.发布依赖 <a class="header-anchor" href="#_3-发布依赖" aria-hidden="true">#</a></h3><p>略。</p><h3 id="_4-本地安装" tabindex="-1">4.本地安装 <a class="header-anchor" href="#_4-本地安装" aria-hidden="true">#</a></h3><p>项目安装依赖后，<code>node_modules/.bin</code> 下可以看到对应的命令：</p><p><img src="`+s+`" alt="image-20221029130105778"></p><p>命令行执行一下：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crush</span></span>
<span class="line"></span></code></pre></div><p><img src="`+a+'" alt="image-20221029130206480"></p><h3 id="_5-全局安装" tabindex="-1">5.全局安装 <a class="header-anchor" href="#_5-全局安装" aria-hidden="true">#</a></h3><p>如果是全局安装，则会将命令添加到npm安装目录，而npm已经配置到环境变量中，所以可以直接在控制台任意目录执行<code>crush</code>命令。</p><p><img src="'+n+'" alt="image-20221029125605181"></p><p><img src="'+l+'" alt="image-20221029130743060"></p><p><img src="'+o+'" alt="image-20230805164517357"></p><p>如果安装了nvm管理node，目录有所变化</p><p><img src="'+p+`" alt="image-20230805164557709"></p><h3 id="crush-sh" tabindex="-1"><a href="http://crush.sh" target="_blank" rel="nofollow noopener noreferrer">crush.sh</a> <a class="header-anchor" href="#crush-sh" aria-hidden="true">#</a></h3><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/sh</span></span>
<span class="line"><span style="color:#A6ACCD;">basedir</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">dirname</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#82AAFF;">echo</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;font-style:italic;">$0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">sed</span><span style="color:#C3E88D;"> -e </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s,\\\\,/,g</span><span style="color:#89DDFF;">&#39;)&quot;)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">uname</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">in</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">CYGWIN</span><span style="color:#89DDFF;">*|*</span><span style="color:#A6ACCD;">MINGW</span><span style="color:#89DDFF;">*|*</span><span style="color:#A6ACCD;">MSYS</span><span style="color:#89DDFF;">*)</span><span style="color:#A6ACCD;"> basedir</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">cygpath</span><span style="color:#C3E88D;"> -w </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$basedir</span><span style="color:#89DDFF;">&quot;\`</span><span style="color:#89DDFF;">;;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">esac</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-x</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#A6ACCD;">$basedir</span><span style="color:#C3E88D;">/node</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">];</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$basedir</span><span style="color:#C3E88D;">/node</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$basedir</span><span style="color:#C3E88D;">/node_modules/ok-verdaccio/bin/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;font-style:italic;">$@</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">node</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$basedir</span><span style="color:#C3E88D;">/node_modules/ok-verdaccio/bin/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;font-style:italic;">$@</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">fi</span></span>
<span class="line"></span></code></pre></div><h3 id="crush-cmd" tabindex="-1">crush.cmd <a class="header-anchor" href="#crush-cmd" aria-hidden="true">#</a></h3><div class="language-bat"><button title="Copy Code" class="copy"></button><span class="lang">bat</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@ECHO</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">off</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GOTO</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">start</span></span>
<span class="line"><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">find_dp0</span></span>
<span class="line"><span style="color:#89DDFF;">SET</span><span style="color:#A6ACCD;"> dp0</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;font-style:italic;">%</span><span style="color:#A6ACCD;font-style:italic;">~dp0</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">EXIT</span><span style="color:#A6ACCD;"> /b</span></span>
<span class="line"><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">start</span></span>
<span class="line"><span style="color:#89DDFF;">SETLOCAL</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">CALL</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">find_dp0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">IF</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">EXIST</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;%</span><span style="color:#A6ACCD;">dp0</span><span style="color:#89DDFF;">%</span><span style="color:#C3E88D;">\\node.exe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">SET</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">_prog</span><span style="color:#89DDFF;">=%</span><span style="color:#A6ACCD;">dp0</span><span style="color:#89DDFF;">%</span><span style="color:#C3E88D;">\\node.exe</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">ELSE</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">SET</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">_prog</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">node</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">SET</span><span style="color:#A6ACCD;"> PATHEXT</span><span style="color:#89DDFF;">=%</span><span style="color:#A6ACCD;">PATHEXT</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;">;.JS;</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">;</span><span style="color:#89DDFF;">%</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">endLocal</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">goto</span><span style="color:#A6ACCD;"> #_undefined_# </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">&gt;NUL</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">title</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">COMSPEC</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;%</span><span style="color:#A6ACCD;">_prog</span><span style="color:#89DDFF;">%&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;%</span><span style="color:#A6ACCD;">dp0</span><span style="color:#89DDFF;">%</span><span style="color:#C3E88D;">\\node_modules\\ok-verdaccio\\bin\\index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">%</span><span style="color:#A6ACCD;font-style:italic;">*</span></span>
<span class="line"></span></code></pre></div><h2 id="application" tabindex="-1">Application <a class="header-anchor" href="#application" aria-hidden="true">#</a></h2><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@vue/cli</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5.0.8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Command line interface for rapid Vue.js development</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">bin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bin/vue.js</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,31),y=[i];function F(C,A,d,u,h,m){return c(),t("div",null,y)}const f=e(D,[["render",F]]);export{b as __pageData,f as default};
